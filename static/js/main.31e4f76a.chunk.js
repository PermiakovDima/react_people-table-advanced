(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var c=a(13),n=a.n(c),r=a(4),s=a(0),l=a(2),i=a(1),o=function(){return Object(i.jsx)("div",{className:"Header",children:Object(i.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:Object(i.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(i.jsxs)("div",{className:"navbar-start",children:[Object(i.jsx)(r.c,{to:"/",className:"navbar-item",children:"Home"}),Object(i.jsx)(r.c,{to:"/people",className:"navbar-item",children:"People Page"})]})})})})},j=function(){return Object(i.jsx)("h2",{className:"title is-2 has-text-centered pb-3",children:"Home Page"})},d=a(9),b=a(14),h=a(5),u=a(8),m=a.n(u),p=a(15),O=a.n(p),x=a(16),f=a.n(x),v=function(e){var t,a,c=e.person,n=e.visiblePeople,s=Object(l.e)(),o=s.pathname,j=s.search;return Object(i.jsxs)("tr",{className:f()({"is-selected has-background-success":o.includes(c.slug)}),children:[Object(i.jsx)("td",{children:c.name}),Object(i.jsx)("td",{children:c.sex}),Object(i.jsx)("td",{children:c.born}),Object(i.jsx)("td",{children:c.died}),Object(i.jsx)("td",{children:n.some((function(e){var t;return e.name===(null===(t=c.fatherNameSlug)||void 0===t?void 0:t.name)}))?Object(i.jsx)(r.b,{to:{pathname:"".concat(null===(t=c.fatherNameSlug)||void 0===t?void 0:t.slug),search:j},className:"button is-info is-inverted",children:c.fatherName}):Object(i.jsx)("p",{className:"pl-4",children:c.fatherName||"Not father"})}),Object(i.jsx)("td",{children:n.some((function(e){var t;return e.name===(null===(t=c.motherNameSlug)||void 0===t?void 0:t.name)}))?Object(i.jsx)(r.b,{to:{pathname:"".concat(null===(a=c.motherNameSlug)||void 0===a?void 0:a.slug),search:j},className:"button is-danger is-inverted",children:c.motherName}):Object(i.jsx)("p",{className:"pl-4",children:c.motherName||"Not mother"})})]},c.slug)},N=(a(34),function(e){var t=e.visiblePeople,a=e.handleSortChang;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table is-fullwidth",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"PeopleTable__title",onClick:a,children:"Name"}),Object(i.jsx)("th",{className:"PeopleTable__title",onClick:a,children:"Sex"}),Object(i.jsx)("th",{className:"PeopleTable__title",onClick:a,children:"Born"}),Object(i.jsx)("th",{className:"PeopleTable__title",onClick:a,children:"Died"}),Object(i.jsx)("th",{className:"pl-6",children:"Father"}),Object(i.jsx)("th",{className:"pl-6",children:"Mather"})]})}),Object(i.jsx)("tbody",{children:t.map((function(e){return Object(i.jsx)(v,{person:e,visiblePeople:t},e.slug)}))})]})})}),g=function(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],n=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){n()}),[]);var r=a.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{motherNameSlug:a.find((function(t){return e.motherName===t.name})),fatherNameSlug:a.find((function(t){return e.fatherName===t.name}))})})),o=Object(l.f)(),j=Object(l.e)(),u=new URLSearchParams(j.search),p=u.get("query")||"",x=Object(s.useState)(p),f=Object(h.a)(x,2),v=f[0],g=f[1],S=u.get("sortBy")||"",C=u.get("sortOrder")||"",P=Object(s.useCallback)(O()((function(e){e?u.set("query",e):u.delete("query"),o("?".concat(u.toString()))}),500),[]);return p&&(r=r.filter((function(e){return"".concat(e.name).concat(e.fatherName).concat(e.motherName).toLowerCase().includes(p.toLowerCase())}))),S&&r.sort((function(e,t){switch(S){case"Name":return"asc"===C?e.name.localeCompare(t.name):t.name.localeCompare(e.name);case"Sex":return"asc"===C?e.sex.localeCompare(t.sex):t.sex.localeCompare(e.sex);case"Born":return"asc"===C?e.born-t.born:t.born-e.born;case"Died":return"asc"===C?e.died-t.died:t.died-e.died;default:return 0}})),Object(i.jsxs)("div",{className:"container is-widescreen",children:[Object(i.jsx)("h2",{className:"title is-2 has-text-centered pb-3",children:"People Page"}),Object(i.jsx)("input",{className:"input",type:"text",placeholder:"Text input",onChange:function(e){g(e.target.value),P(e.target.value)},value:v||""}),Object(i.jsx)(N,{visiblePeople:r,handleSortChang:function(e){var t=e.target.innerHTML;e.target?u.set("sortBy",t):u.delete("sortBy"),"asc"===C&&t===S?u.set("sortOrder","desc"):u.set("sortOrder","asc"),o("?".concat(u.toString()))}})]})},S=(a(35),a(36),function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),Object(i.jsx)("div",{className:"page",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/",element:Object(i.jsx)(j,{})}),Object(i.jsx)(l.a,{path:"people",element:Object(i.jsx)(g,{}),children:Object(i.jsx)(l.a,{path:":slug",element:Object(i.jsx)(g,{})})})]})})]})});n.a.render(Object(i.jsx)(r.a,{children:Object(i.jsx)(S,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.31e4f76a.chunk.js.map